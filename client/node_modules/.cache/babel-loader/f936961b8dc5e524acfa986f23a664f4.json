{"ast":null,"code":"import _defineProperty from\"/Users/omoruyiohuoba/Desktop/APPS/WEB DEVELOPMENT/CITY-RUNNER/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/omoruyiohuoba/Desktop/APPS/WEB DEVELOPMENT/CITY-RUNNER/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/omoruyiohuoba/Desktop/APPS/WEB DEVELOPMENT/CITY-RUNNER/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import backArrow from\"../../assets/backarrow.svg\";import Logo from\"../../assets/Logo.png\";import{Link}from\"react-router-dom\";import{registerAdmin}from\"../../actions/authActions\";import history from'../../history';//Real Admin Sign Up Component. Always access with private browser\nvar ZHiddenSignUpAdmin=function ZHiddenSignUpAdmin(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),nameErr=_useState2[0],setNameErr=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),emailErr=_useState4[0],setEmailErr=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),passwordErr=_useState6[0],setPasswordErr=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),confirmPasswordErr=_useState8[0],setConfirmPasswordErr=_useState8[1];var _useState9=useState({name:\"\",email:\"\",password:\"\",password2:\"\",role:\"\",errors:{}}),_useState10=_slicedToArray(_useState9,2),state=_useState10[0],setState=_useState10[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{auth:state.auth};}),auth=_useSelector.auth;useEffect(function(){// If logged in and user navigates to Register page, should redirect them to dashboard\nif(auth.isAuthenticated){if(auth.user.role===\"userrole\"){history.push(\"/userdashboardhome\");}if(auth.user.role===\"riderrole\"){history.push(\"riderdashboardhome\");}if(auth.user.role===\"adminrole\"){history.push(\"admindashboardhome\");}}});var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setState(function(prevValue){return _objectSpread(_objectSpread({},prevValue),{},_defineProperty({},name,value));});console.log(state);};var handleSubmit=function handleSubmit(event){event.preventDefault();var isValid=formValidation();state.role=\"adminrole\";if(isValid){if(state.name&&state.email&&state.password&&state.password2&&state.role&&state.errors){dispatch(registerAdmin(state));}}};var formValidation=function formValidation(){var nameErr={};var emailErr={};var passwordErr={};var confirmPasswordErr={};var isValid=true;if(state.name===\"\"){nameErr.nameRequired=\"The name field is required\";isValid=false;}if(state.email===\"\"){emailErr.passwordRequired=\"The email field is required\";isValid=false;}if(state.password===\"\"){passwordErr.passwordRequired=\"The password field is required\";isValid=false;}if(state.password2===\"\"){confirmPasswordErr.password2Required=\"The confirm password field is required\";isValid=false;}if(typeof state.name!==\"string\"){nameErr.nameType=\"Enter a valid name\";isValid=false;}if(typeof state.email!==\"string\"){emailErr.emailType=\"Enter a valid email address\";isValid=false;}if(state.password.length>0&&state.password.length<8){passwordErr.passwordShort=\"Password must be at least 8 characters\";isValid=false;}if(state.password.length>30){passwordErr.passwordLong=\"Password can't be more than 30 characters\";isValid=false;}if(state.password2!==state.password){confirmPasswordErr.unMatchPassword=\"Password does not match\";isValid=false;}setNameErr(nameErr);setEmailErr(emailErr);setPasswordErr(passwordErr);setConfirmPasswordErr(confirmPasswordErr);return isValid;};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/home\",children:/*#__PURE__*/_jsx(\"img\",{className:\"centre-logo\",src:Logo,alt:\"logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"contactBody\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-top\",children:[/*#__PURE__*/_jsx(Link,{to:\"/home\",className:\"normal normalback\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"ontop-form ontop-form1\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"back-arrow\",src:backArrow,alt:\"back arrow\"}),\" \\u2002 \\u2002BACK TO HOME\"]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"ontop-form ontop-form2\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Register\"}),\" below\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"ontop-form ontop-form3\",children:[\"Already an Administrator?\",/*#__PURE__*/_jsx(Link,{to:\"/signinuser\",className:\"normal3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bluelogin\",children:\" Log in\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"contactForm\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"myForm\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",onChange:handleChange,value:state.name,required:true}),/*#__PURE__*/_jsx(\"span\",{class:\"highlight\"}),/*#__PURE__*/_jsx(\"span\",{class:\"bar\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label-class\",children:\"Name\"})]}),Object.keys(nameErr).map(function(key){return/*#__PURE__*/_jsxs(\"div\",{style:{color:\"red\",textAlign:\"left\"},children:[\" \",nameErr[key],\" \"]});}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",onChange:handleChange,value:state.email,required:true}),/*#__PURE__*/_jsx(\"span\",{class:\"highlight\"}),/*#__PURE__*/_jsx(\"span\",{class:\"bar\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label-class\",children:\"Email\"})]}),Object.keys(emailErr).map(function(key){return/*#__PURE__*/_jsxs(\"div\",{style:{color:\"red\",textAlign:\"left\"},children:[\" \",emailErr[key],\" \"]});}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:handleChange,value:state.password,required:true}),/*#__PURE__*/_jsx(\"span\",{class:\"highlight\"}),/*#__PURE__*/_jsx(\"span\",{class:\"bar\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label-class\",children:\"Password\"})]}),Object.keys(passwordErr).map(function(key){return/*#__PURE__*/_jsxs(\"div\",{style:{color:\"red\",textAlign:\"left\"},children:[\" \",passwordErr[key],\" \"]});}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password2\",onChange:handleChange,value:state.password2,required:true}),/*#__PURE__*/_jsx(\"span\",{class:\"highlight\"}),/*#__PURE__*/_jsx(\"span\",{class:\"bar\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label-class\",children:\"Confirm Password\"})]}),Object.keys(confirmPasswordErr).map(function(key){return/*#__PURE__*/_jsxs(\"div\",{style:{color:\"red\",textAlign:\"left\"},children:[\" \",confirmPasswordErr[key],\" \"]});}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonPosition\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"contact-button\",type:\"submit\",onClick:handleSubmit,children:\" Sign Up \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})]})})]})]});};export default ZHiddenSignUpAdmin;","map":{"version":3,"sources":["/Users/omoruyiohuoba/Desktop/APPS/WEB DEVELOPMENT/CITY-RUNNER/client/src/components/Auth/ZHiddenSignUpAdmin.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","Logo","Link","registerAdmin","history","ZHiddenSignUpAdmin","nameErr","setNameErr","emailErr","setEmailErr","passwordErr","setPasswordErr","confirmPasswordErr","setConfirmPasswordErr","name","email","password","password2","role","errors","state","setState","dispatch","auth","isAuthenticated","user","push","handleChange","event","target","value","prevValue","console","log","handleSubmit","preventDefault","isValid","formValidation","nameRequired","passwordRequired","password2Required","nameType","emailType","length","passwordShort","passwordLong","unMatchPassword","backArrow","Object","keys","map","key","color","textAlign"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from \"react\";\nimport {useSelector, useDispatch} from \"react-redux\";\nimport backArrow from \"../../assets/backarrow.svg\";\nimport Logo from \"../../assets/Logo.png\";\nimport {Link} from \"react-router-dom\";\nimport {registerAdmin} from \"../../actions/authActions\";\nimport history from '../../history';\n\n//Real Admin Sign Up Component. Always access with private browser\nconst ZHiddenSignUpAdmin = () => {\n    const [nameErr, setNameErr] = useState({});\n    const [emailErr, setEmailErr] = useState({});\n    const [passwordErr, setPasswordErr] = useState({});\n    const [confirmPasswordErr, setConfirmPasswordErr] = useState({});\n\n    const [state, setState] = useState({\n        name:\"\",\n        email: \"\",\n        password: \"\",\n        password2:\"\",\n        role:\"\",\n        errors: {}\n        });\n    \n        const dispatch = useDispatch();\n        const { auth } = useSelector(state => ({\n          auth: state.auth,\n        })); \n\n\n        useEffect(()=> {\n            // If logged in and user navigates to Register page, should redirect them to dashboard\n               if(auth.isAuthenticated){\n       \n                   if(auth.user.role===\"userrole\"){\n                       history.push(\"/userdashboardhome\");\n           \n                   }\n                   if(auth.user.role===\"riderrole\"){\n                       history.push(\"riderdashboardhome\");\n                   }\n           \n                   if(auth.user.role===\"adminrole\"){\n                       history.push(\"admindashboardhome\");\n                   }\n                   \n               }\n           \n           });\n    \n        \n        const handleChange = (event) =>{\n            const {name, value} = event.target;\n\n            \n                setState(prevValue => {\n                    return {\n                        ...prevValue, [name]: value\n                    }\n                });\n    \n                console.log(state);\n            \n        };\n    \n        const handleSubmit = (event) => {\n                event.preventDefault();\n                const isValid = formValidation();\n\n\n\n                state.role = \"adminrole\";\n\n                if(isValid){\n                if (state.name && state.email && state.password && state.password2 && state.role && state.errors) {\n                  dispatch(registerAdmin(state))\n                 }\n\n                }\n    \n        };\n\n        const formValidation = () => {\n            const nameErr = {};\n            const emailErr = {};\n            const passwordErr = {};\n            const confirmPasswordErr ={};\n    \n            let isValid = true;\n\n            if( state.name === \"\"){\n                nameErr.nameRequired = \"The name field is required\";\n                isValid = false;\n            }\n            \n            if( state.email === \"\"){\n                emailErr.passwordRequired = \"The email field is required\";\n                isValid = false;\n            }\n            \n            if( state.password === \"\"){\n                passwordErr.passwordRequired = \"The password field is required\";\n                isValid = false;\n            }\n            \n            if( state.password2 === \"\"){\n                confirmPasswordErr.password2Required = \"The confirm password field is required\";\n                isValid = false;\n            }\n    \n    \n            if( typeof state.name !== \"string\"){\n                nameErr.nameType = \"Enter a valid name\";\n                isValid = false;\n    \n            }\n    \n            if( typeof state.email !== \"string\"){\n                emailErr.emailType = \"Enter a valid email address\";\n                isValid = false;\n            }\n    \n            \n            if( state.password.length > 0 && state.password.length < 8 ){\n                passwordErr.passwordShort = \"Password must be at least 8 characters\";\n                isValid = false;\n            }\n    \n              \n            if(state.password.length > 30 ){\n                passwordErr.passwordLong = \"Password can't be more than 30 characters\";\n                isValid = false;\n            }\n    \n            if(state.password2 !== state.password){\n                confirmPasswordErr.unMatchPassword = \"Password does not match\";\n                isValid = false;\n    \n            }\n    \n            setNameErr(nameErr);\n            setEmailErr(emailErr);\n            setPasswordErr(passwordErr);\n            setConfirmPasswordErr(confirmPasswordErr);\n            return isValid;\n    \n    \n        }\n\n    return(\n        <div>\n        <Link to=\"/home\"><img className=\"centre-logo\" src={Logo} alt=\"logo\"/></Link>\n        <div className =\"contactBody\">\n                <br/>\n               \n            <div className=\"form-top\">\n\n            <Link to=\"/home\" className=\"normal normalback\"><p className=\"ontop-form ontop-form1\"><img className=\"back-arrow\" src={backArrow} alt=\"back arrow\"/> &ensp; &ensp;BACK TO HOME</p></Link>\n            <p className=\"ontop-form ontop-form2\"><b>Register</b> below</p>\n            <p className=\"ontop-form ontop-form3\">Already an Administrator?<Link to=\"/signinuser\" className=\"normal3\"><span className=\"bluelogin\"> Log in</span></Link></p>\n\n\n            </div>\n            <div className=\"contactForm\">\n            <form id=\"myForm\">\n            <div class=\"input-group\">\n                 <input type=\"text\" name=\"name\" onChange={handleChange} value={state.name} required />\n                 <span class=\"highlight\"></span>\n                 <span class=\"bar\"></span>\n                <label className=\"label-class\">Name</label>\n            </div>\n            {Object.keys(nameErr).map((key)=> {\n                return <div style={{color: \"red\", textAlign: \"left\"}}> {nameErr[key]} </div>\n            })}\n\n            <div class=\"input-group\">\n                <input type=\"email\" name=\"email\" onChange={handleChange} value={state.email} required />\n                <span class=\"highlight\"></span>\n                <span class=\"bar\"></span>\n                <label className=\"label-class\">Email</label>\n            </div>\n            {Object.keys(emailErr).map((key)=> {\n                return <div style={{color: \"red\", textAlign: \"left\"}}> {emailErr[key]} </div>\n            })}\n\n            <div class=\"input-group\">\n                <input type=\"password\" name=\"password\" onChange={handleChange} value={state.password} required />\n                <span class=\"highlight\"></span>\n                <span class=\"bar\"></span>\n                <label className=\"label-class\">Password</label> \n            </div>\n            {Object.keys(passwordErr).map((key)=> {\n                return <div style={{color: \"red\", textAlign: \"left\"}}> {passwordErr[key]} </div>\n            })}\n\n            <div class=\"input-group\">\n                <input type=\"password\" name=\"password2\" onChange={handleChange} value={state.password2} required />\n                <span class=\"highlight\"></span>\n                <span class=\"bar\"></span>\n                <label className=\"label-class\">Confirm Password</label>\n            </div>\n            {Object.keys(confirmPasswordErr).map((key)=> {\n                return <div style={{color: \"red\", textAlign: \"left\"}}> {confirmPasswordErr[key]} </div>\n            })}\n            \n            <br/>\n            \n            <div className=\"buttonPosition\">\n                <button className=\"contact-button\" type=\"submit\" onClick={handleSubmit}> Sign Up </button>\n\n                <br/>\n                <br/>\n              </div>\n            </form>\n        </div>\n\n        </div>\n        </div>\n    )\n}\n\nexport default ZHiddenSignUpAdmin;"]},"metadata":{},"sourceType":"module"}