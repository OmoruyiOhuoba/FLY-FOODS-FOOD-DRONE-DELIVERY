{"ast":null,"code":"import _slicedToArray from\"/Users/omoruyiohuoba/Desktop/APPS/WEB DEVELOPMENT/CITY-RUNNER/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import AdminDashboardNavBar from\"./AdminDashboardNavBar\";import StructureAdmin from\"./StructureAdmin\";import axios from\"axios\";import Pagination from\"react-js-pagination\";var AdminDashboardDeliveries=function AdminDashboardDeliveries(){var _useState=useState([\"\"]),_useState2=_slicedToArray(_useState,2),order=_useState2[0],setOrder=_useState2[1];/*pagination stuff*/var dataPerPage=20;var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),activePage=_useState4[0],setCurrentPage=_useState4[1];var indexOfLastData=activePage*dataPerPage;var indexOfFirstData=indexOfLastData-dataPerPage;var currentData=order.slice(indexOfFirstData,indexOfLastData);var handlePageChange=function handlePageChange(pageNumber){console.log(\"active page is \".concat(pageNumber));setCurrentPage(pageNumber);};useEffect(function(){var isActive=true;if(isActive){axios.get(\"/api/cityrunner/admindelivered\").then(function(res){setOrder(res.data);}).catch(function(error){console.log(error);});}return function(){isActive=false;};},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AdminDashboardNavBar,{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"ontop-form ontop-form2 ontop-dash ontop-dash1\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Total\"}),\" Deliveries\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Order ID\"}),/*#__PURE__*/_jsx(\"td\",{children:\"User ID\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Item\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Pick-up Address\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Sender Name\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Sender Phone Number\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Sender E-mail\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Pick-up Date\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Order Charge\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Item Weight\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Item Quantity\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Recipient Address\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Recipient Name\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Recipient Phone Number\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Recipient E-mail\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Order Status\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Delivered by Rider ID\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currentData.map(function(data,index){return/*#__PURE__*/_jsx(StructureAdmin,{id:data._id,user:data.user,pickupitem:data.pickupitem,pickupaddress:data.pickupaddress,name:data.name,phone:data.phone,email:data.email,pickupdate:data.pickupdate,amountInNaira:data.amountInNaira,weightinkg:data.weightinkg,pickupquantity:data.pickupquantity,deliveryaddress:data.deliveryaddress,deliveryname:data.deliveryname,deliveryphonenumber:data.deliveryphonenumber,deliveryemail:data.deliveryemail,status:data.status,rider:data.rider},index);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination\",children:/*#__PURE__*/_jsx(Pagination,{activePage:activePage,itemsCountPerPage:20,totalItemsCount:order.length,pageRangeDisplayed:5,onChange:handlePageChange})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});};export default AdminDashboardDeliveries;","map":{"version":3,"sources":["/Users/omoruyiohuoba/Desktop/APPS/WEB DEVELOPMENT/CITY-RUNNER/client/src/components/Dashboard/AdminDashboardDeliveries.jsx"],"names":["React","useState","useEffect","AdminDashboardNavBar","StructureAdmin","axios","Pagination","AdminDashboardDeliveries","order","setOrder","dataPerPage","activePage","setCurrentPage","indexOfLastData","indexOfFirstData","currentData","slice","handlePageChange","pageNumber","console","log","isActive","get","then","res","data","catch","error","map","index","_id","user","pickupitem","pickupaddress","name","phone","email","pickupdate","amountInNaira","weightinkg","pickupquantity","deliveryaddress","deliveryname","deliveryphonenumber","deliveryemail","status","rider","length"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from  \"react\";\nimport AdminDashboardNavBar from \"./AdminDashboardNavBar\";\nimport StructureAdmin from \"./StructureAdmin\";\nimport axios from \"axios\";\nimport Pagination from \"react-js-pagination\";\n\n\n\nconst AdminDashboardDeliveries = () => {\n    const [order, setOrder] = useState([\"\"]);\n\n    /*pagination stuff*/\n    const dataPerPage = 20;\n    const [ activePage, setCurrentPage ] = useState( 1 );\n\n    const indexOfLastData = activePage * dataPerPage; \n    const indexOfFirstData = indexOfLastData - dataPerPage;\n    const currentData = order.slice( indexOfFirstData, indexOfLastData );\n\n    const handlePageChange = ( pageNumber ) => {\n        console.log( `active page is ${ pageNumber }` );\n        setCurrentPage( pageNumber )\n     };\n    \n\n    useEffect(() => {\n\n        let isActive = true;\n\n        if (isActive){\n            axios.get(`/api/cityrunner/admindelivered`)\n            .then((res) => {\n            setOrder(res.data);\n\n        }).catch(error =>{\n            console.log(error);\n        })\n\n        }\n        return () => {\n            isActive = false;\n          };\n        \n   \n    },[]);\n\n\n    return(\n        <div>\n            <AdminDashboardNavBar />\n            <div>\n            <p className=\"ontop-form ontop-form2 ontop-dash ontop-dash1\"><b>Total</b> Deliveries</p>\n\n            </div>\n            <div className=\"table\">\n                <table>\n                    <thead>\n                    <tr>\n                        <td>\n                            Order ID\n                            </td>\n                            <td>\n                            User ID\n                            </td>\n                            <td>\n                            Item\n                            </td>\n                            <td>\n                            Pick-up Address\n                            </td>\n                            <td>\n                            Sender Name\n                            </td>\n                            <td>\n                            Sender Phone Number\n                            </td>\n                            <td>\n                            Sender E-mail\n                            </td>\n                            <td>\n                            Pick-up Date\n                            </td>\n                            <td>\n                            Order Charge\n                            </td>\n                            <td>\n                            Item Weight\n                            </td>\n                            <td>\n                            Item Quantity\n                            </td>\n                            <td>\n                            Recipient Address\n                            </td>\n                            <td>\n                            Recipient Name\n                            </td>\n                            <td>\n                            Recipient Phone Number\n                            </td>\n                            <td>\n                            Recipient E-mail\n                            </td>\n                            <td>\n                            Order Status\n                            </td>\n                            <td>\n                            Delivered by Rider ID\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {currentData.map((data, index) => {\n             return(\n                 <StructureAdmin \n                 key = {index}\n                 id= {data._id}\n                 user = {data.user}\n                 pickupitem = {data.pickupitem}\n                 pickupaddress = {data.pickupaddress}\n                 name= {data.name}\n                 phone = {data.phone}\n                 email = {data.email}\n                 pickupdate = {data.pickupdate}\n                 amountInNaira= {data.amountInNaira}\n                 weightinkg = {data.weightinkg}\n                 pickupquantity = {data.pickupquantity}\n                 deliveryaddress = {data.deliveryaddress}\n                 deliveryname= {data.deliveryname}\n                 deliveryphonenumber = {data.deliveryphonenumber}\n                 deliveryemail ={data.deliveryemail}\n                 status = {data.status}\n                 rider = {data.rider} \n                 \n                 />);\n         })}\n                    </tbody>\n                </table>\n\n                </div>\n\n<div className= \"pagination\" >\n<Pagination\n   activePage={ activePage }\n   itemsCountPerPage={ 20 }\n   totalItemsCount={ order.length }\n   pageRangeDisplayed={ 5 }\n   onChange={ handlePageChange }\n/>\n</div>\n<br/>\n<br/>\n<br/>\n\n</div>\n)\n}\n\nexport default AdminDashboardDeliveries;"]},"metadata":{},"sourceType":"module"}