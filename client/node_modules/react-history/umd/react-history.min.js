!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.ReactHistory=e(require("react")):t.ReactHistory=e(t.React)}(this,function(t){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.Prompt=e.MemoryHistory=e.HashHistory=e.BrowserHistory=void 0;var r=n(10);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var i=n(11),a=o(i),u=n(12),s=o(u),c=n(13),f=o(c),l=n(14),p=o(l);e.BrowserHistory=a["default"],e.HashHistory=s["default"],e.MemoryHistory=f["default"],e.Prompt=p["default"]},function(e,n){e.exports=t},function(t,e,n){"use strict";e.__esModule=!0,e.history=e.location=e.action=void 0;var o=n(1),r=e.action=o.PropTypes.oneOf(["PUSH","REPLACE","POP"]),i=e.location=o.PropTypes.shape({pathname:o.PropTypes.string.isRequired,search:o.PropTypes.string.isRequired,hash:o.PropTypes.string.isRequired,state:o.PropTypes.object,key:o.PropTypes.string});e.history=o.PropTypes.shape({action:r.isRequired,location:i.isRequired,push:o.PropTypes.func.isRequired,replace:o.PropTypes.func.isRequired,go:o.PropTypes.func.isRequired,goBack:o.PropTypes.func.isRequired,goForward:o.PropTypes.func.isRequired,canGo:o.PropTypes.func,block:o.PropTypes.func.isRequired})},function(t,e){"use strict";e.__esModule=!0;e.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t},e.stripPrefix=function(t,e){return 0===t.indexOf(e)?t.substr(e.length):t},e.parsePath=function(t){var e=t||"/",n="",o="",r=e.indexOf("#");r!==-1&&(o=e.substr(r),e=e.substr(0,r));var i=e.indexOf("?");return i!==-1&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===o?"":o}},e.createPath=function(t){var e=t.pathname,n=t.search,o=t.hash,r=e||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(r+="#"===o.charAt(0)?o:"#"+o),r}},function(t,e,n){"use strict";var o=function(){};t.exports=o},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},i=n(18),a=o(i),u=n(19),s=o(u),c=n(3);e.createLocation=function(t,e,n,o){var i=void 0;return"string"==typeof t?(i=(0,c.parsePath)(t),i.state=e):(i=r({},t),void 0===i.pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e)),i.key=n,o&&(i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=(0,a["default"])(i.pathname,o.pathname)):i.pathname=o.pathname),i},e.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&(0,s["default"])(t.state,e.state)}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=n(4),i=(o(r),function(){var t=null,e=function(e){return t=e,function(){t===e&&(t=null)}},n=function(e,n,o,r){if(null!=t){var i="function"==typeof t?t(e,n):t;"string"==typeof i?"function"==typeof o?o(i,r):r(!0):r(i!==!1)}else r(!0)},o=[],r=function(t){return o.push(t),function(){o=o.filter(function(e){return e!==t})}},i=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.forEach(function(t){return t.apply(void 0,e)})};return{setPrompt:e,confirmTransitionTo:n,appendListener:r,notifyListeners:i}});e["default"]=i},function(t,e){"use strict";e.__esModule=!0;e.addEventListener=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},e.getConfirmation=function(t,e){return e(window.confirm(t))},e.supportsHistory=function(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")===-1&&t.indexOf("Android 4.0")===-1||t.indexOf("Mobile Safari")===-1||t.indexOf("Chrome")!==-1||t.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},e.supportsPopStateOnHashChange=function(){return window.navigator.userAgent.indexOf("Trident")===-1},e.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1},e.isExtraneousPopstateEvent=function(t){return void 0===t.state&&navigator.userAgent.indexOf("CriOS")===-1}},function(t,e){"use strict";e.__esModule=!0;e.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(t,e,n){"use strict";var o=function(t,e,n,o,r,i,a,u){if(!t){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,r,i,a,u],f=0;s=new Error(e.replace(/%s/g,function(){return c[f++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};t.exports=o},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Forward=e.Back=e.Pop=e.Replace=e.Push=void 0;var u=n(1),s=o(u),c=n(2),f=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.performAction=function(){this.props.perform(this.context.history)},e.prototype.componentDidMount=function(){this.performAction()},e.prototype.componentDidUpdate=function(){this.performAction()},e.prototype.render=function(){return null},e}(s["default"].Component);f.contextTypes={history:c.history.isRequired};var l=(e.Push=function(t){var e=t.location,n=t.path,o=t.state;return s["default"].createElement(f,{perform:function(t){return t.push(e||n,o)}})},e.Replace=function(t){var e=t.location,n=t.path,o=t.state;return s["default"].createElement(f,{perform:function(t){return t.replace(e||n,o)}})},e.Pop=function(t){var e=t.go;return s["default"].createElement(f,{perform:function(t){return t.go(e)}})});l.defaultProps={go:-1};e.Back=function(){return s["default"].createElement(f,{perform:function(t){return t.goBack()}})},e.Forward=function(){return s["default"].createElement(f,{perform:function(t){return t.goForward()}})}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=n(1),s=o(u),c=n(15),f=o(c),l=n(2),p=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.getChildContext=function(){return{history:this.history}},e.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.basename,o=e.forceRefresh,r=e.getUserConfirmation,i=e.keyLength;this.history=(0,f["default"])({basename:n,forceRefresh:o,getUserConfirmation:r,keyLength:i}),this.unlisten=this.history.listen(function(){return t.forceUpdate()})},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.props.children;return"function"==typeof t?t(this.history):s["default"].Children.only(t)},e}(s["default"].Component);p.childContextTypes={history:l.history.isRequired},e["default"]=p},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=n(1),s=o(u),c=n(16),f=o(c),l=n(2),p=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.getChildContext=function(){return{history:this.history}},e.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.basename,o=e.getUserConfirmation,r=e.hashType;this.history=(0,f["default"])({basename:n,getUserConfirmation:o,hashType:r}),this.unlisten=this.history.listen(function(){return t.forceUpdate()})},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.props.children;return"function"==typeof t?t(this.history):s["default"].Children.only(t)},e}(s["default"].Component);p.childContextTypes={history:l.history.isRequired},e["default"]=p},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=n(1),s=o(u),c=n(17),f=o(c),l=n(2),p=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.getChildContext=function(){return{history:this.history}},e.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.getUserConfirmation,o=e.initialEntries,r=e.initialIndex,i=e.keyLength;this.history=(0,f["default"])({getUserConfirmation:n,initialEntries:o,initialIndex:r,keyLength:i}),this.unlisten=this.history.listen(function(){return t.forceUpdate()})},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.props.children;return"function"==typeof t?t(this.history):s["default"].Children.only(t)},e}(s["default"].Component);p.childContextTypes={history:l.history.isRequired},e["default"]=p},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=n(1),s=o(u),c=n(2),f=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.enable=function(t){this.unblock&&this.unblock(),this.unblock=this.context.history.block(t)},e.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},e.prototype.componentWillMount=function(){this.props.when&&this.enable(this.props.message)},e.prototype.componentWillReceiveProps=function(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},e.prototype.componentWillUnmount=function(){this.disable()},e.prototype.render=function(){return null},e}(s["default"].Component);f.contextTypes={history:c.history.isRequired},f.defaultProps={when:!0},e["default"]=f},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}),i=n(4),a=(o(i),n(9)),u=o(a),s=n(5),c=n(3),f=n(6),l=o(f),p=n(8),h=n(7),d="popstate",y="hashchange",v=function(){try{return window.history.state||{}}catch(t){return{}}},m=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];p.canUseDOM?void 0:(0,u["default"])(!1);var e=window.history,n=(0,h.supportsHistory)(),o=!(0,h.supportsPopStateOnHashChange)(),i=t.basename,a=void 0===i?"":i,f=t.forceRefresh,m=void 0!==f&&f,g=t.getUserConfirmation,b=void 0===g?h.getConfirmation:g,w=t.keyLength,P=void 0===w?6:w,O=function(t){var e=t||{},n=e.key,o=e.state,i=window.location,u=i.pathname,s=i.search,f=i.hash,l=u+s+f;return a&&(l=(0,c.stripPrefix)(l,a)),r({},(0,c.parsePath)(l),{state:o,key:n})},_=function(){return Math.random().toString(36).substr(2,P)},x=(0,l["default"])(),E=function(t){r(V,t),V.length=e.length,x.notifyListeners(V.location,V.action)},T=function(t){(0,h.isExtraneousPopstateEvent)(t)||M(O(t.state))},L=function(){M(O(v()))},k=!1,M=function(t){k?(k=!1,E()):!function(){var e="POP";x.confirmTransitionTo(t,e,b,function(n){n?E({action:e,location:t}):C(t)})}()},C=function(t){var e=V.location,n=S.indexOf(e.key);n===-1&&(n=0);var o=S.indexOf(t.key);o===-1&&(o=0);var r=n-o;r&&(k=!0,H(r))},j=O(v()),S=[j.key],R=function(t){return a+(0,c.createPath)(t)},A=function(t,o){var r="PUSH",i=(0,s.createLocation)(t,o,_(),V.location);x.confirmTransitionTo(i,r,b,function(t){if(t){var o=R(i),a=i.key,u=i.state;if(n)if(e.pushState({key:a,state:u},null,o),m)window.location.href=o;else{var s=S.indexOf(V.location.key),c=S.slice(0,s===-1?0:s+1);c.push(i.key),S=c,E({action:r,location:i})}else window.location.href=o}})},U=function(t,o){var r="REPLACE",i=(0,s.createLocation)(t,o,_(),V.location);x.confirmTransitionTo(i,r,b,function(t){if(t){var o=R(i),a=i.key,u=i.state;if(n)if(e.replaceState({key:a,state:u},null,o),m)window.location.replace(o);else{var s=S.indexOf(V.location.key);s!==-1&&(S[s]=i.key),E({action:r,location:i})}else window.location.replace(o)}})},H=function(t){e.go(t)},q=function(){return H(-1)},W=function(){return H(1)},B=0,F=function(t){B+=t,1===B?((0,h.addEventListener)(window,d,T),o&&(0,h.addEventListener)(window,y,L)):0===B&&((0,h.removeEventListener)(window,d,T),o&&(0,h.removeEventListener)(window,y,L))},I=!1,D=function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=x.setPrompt(t);return I||(F(1),I=!0),function(){return I&&(I=!1,F(-1)),e()}},G=function(t){var e=x.appendListener(t);return F(1),function(){return F(-1),e()}},V={length:e.length,action:"POP",location:j,createHref:R,push:A,replace:U,go:H,goBack:q,goForward:W,block:D,listen:G};return V};e["default"]=m},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},i=n(4),a=(o(i),n(9)),u=o(a),s=n(5),c=n(3),f=n(6),l=o(f),p=n(8),h=n(7),d="hashchange",y={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+(0,c.stripLeadingSlash)(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:c.stripLeadingSlash,decodePath:c.addLeadingSlash},slash:{encodePath:c.addLeadingSlash,decodePath:c.addLeadingSlash}},v=function(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)},m=function(t){return window.location.hash=t},g=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)},b=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];p.canUseDOM?void 0:(0,u["default"])(!1);var e=window.history,n=((0,h.supportsGoWithoutReloadUsingHash)(),t.basename),o=void 0===n?"":n,i=t.getUserConfirmation,a=void 0===i?h.getConfirmation:i,f=t.hashType,b=void 0===f?"slash":f,w=y[b],P=w.encodePath,O=w.decodePath,_=function(){var t=O(v());return o&&(t=(0,c.stripPrefix)(t,o)),(0,c.parsePath)(t)},x=(0,l["default"])(),E=function(t){r(J,t),J.length=e.length,x.notifyListeners(J.location,J.action)},T=!1,L=null,k=function(){var t=v(),e=P(t);if(t!==e)g(e);else{var n=_(),o=J.location;if(!T&&(0,s.locationsAreEqual)(o,n))return;if(L===(0,c.createPath)(n))return;L=null,M(n)}},M=function(t){T?(T=!1,E()):!function(){var e="POP";x.confirmTransitionTo(t,e,a,function(n){n?E({action:e,location:t}):C(t)})}()},C=function(t){var e=J.location,n=A.lastIndexOf((0,c.createPath)(e));n===-1&&(n=0);var o=A.lastIndexOf((0,c.createPath)(t));o===-1&&(o=0);var r=n-o;r&&(T=!0,W(r))},j=v(),S=P(j);j!==S&&g(S);var R=_(),A=[(0,c.createPath)(R)],U=function(t){return"#"+P(o+(0,c.createPath)(t))},H=function(t,e){var n="PUSH",r=(0,s.createLocation)(t,void 0,void 0,J.location);x.confirmTransitionTo(r,n,a,function(t){if(t){var e=(0,c.createPath)(r),i=P(o+e),a=v()!==i;if(a){L=e,m(i);var u=A.lastIndexOf((0,c.createPath)(J.location)),s=A.slice(0,u===-1?0:u+1);s.push(e),A=s,E({action:n,location:r})}else E()}})},q=function(t,e){var n="REPLACE",r=(0,s.createLocation)(t,void 0,void 0,J.location);x.confirmTransitionTo(r,n,a,function(t){if(t){var e=(0,c.createPath)(r),i=P(o+e),a=v()!==i;a&&(L=e,g(i));var u=A.indexOf((0,c.createPath)(J.location));u!==-1&&(A[u]=e),E({action:n,location:r})}})},W=function(t){e.go(t)},B=function(){return W(-1)},F=function(){return W(1)},I=0,D=function(t){I+=t,1===I?(0,h.addEventListener)(window,d,k):0===I&&(0,h.removeEventListener)(window,d,k)},G=!1,V=function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=x.setPrompt(t);return G||(D(1),G=!0),function(){return G&&(G=!1,D(-1)),e()}},z=function(t){var e=x.appendListener(t);return D(1),function(){return D(-1),e()}},J={length:e.length,action:"POP",location:R,createHref:U,push:H,replace:q,go:W,goBack:B,goForward:F,block:V,listen:z};return J};e["default"]=b},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}),i=n(4),a=(o(i),n(3)),u=n(5),s=n(6),c=o(s),f=function(t,e,n){return Math.min(Math.max(t,e),n)},l=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.getUserConfirmation,n=t.initialEntries,o=void 0===n?["/"]:n,i=t.initialIndex,s=void 0===i?0:i,l=t.keyLength,p=void 0===l?6:l,h=(0,c["default"])(),d=function(t){r(L,t),L.length=L.entries.length,h.notifyListeners(L.location,L.action)},y=function(){return Math.random().toString(36).substr(2,p)},v=f(s,0,o.length-1),m=o.map(function(t,e){return"string"==typeof t?(0,u.createLocation)(t,void 0,e?y():void 0):(0,u.createLocation)(t,void 0,e?t.key||y():void 0)}),g=a.createPath,b=function(t,n){var o="PUSH",r=(0,u.createLocation)(t,n,y(),L.location);h.confirmTransitionTo(r,o,e,function(t){if(t){var e=L.index,n=e+1,i=L.entries.slice(0);i.length>n?i.splice(n,i.length-n,r):i.push(r),d({action:o,location:r,index:n,entries:i})}})},w=function(t,n){var o="REPLACE",r=(0,u.createLocation)(t,n,y(),L.location);h.confirmTransitionTo(r,o,e,function(t){t&&(L.entries[L.index]=r,d({action:o,location:r}))})},P=function(t){var n=f(L.index+t,0,L.entries.length-1),o="POP",r=L.entries[n];h.confirmTransitionTo(r,o,e,function(t){t?d({action:o,location:r,index:n}):d()})},O=function(){return P(-1)},_=function(){return P(1)},x=function(t){var e=L.index+t;return e>=0&&e<L.entries.length},E=function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];return h.setPrompt(t)},T=function(t){return h.appendListener(t)},L={length:m.length,action:"POP",location:m[v],index:v,entries:m,createHref:g,push:b,replace:w,go:P,goBack:O,goForward:_,canGo:x,block:E,listen:T};return L};e["default"]=l},function(t,e){"use strict";var n=function(t){return"/"===t.charAt(0)},o=function(t,e){for(var n=e,o=n+1,r=t.length;o<r;n+=1,o+=1)t[n]=t[o];t.pop()},r=function(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=t&&t.split("/")||[],i=e&&e.split("/")||[],a=t&&n(t),u=e&&n(e),s=a||u;if(t&&n(t)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";var c=void 0;if(i.length){var f=i[i.length-1];c="."===f||".."===f||""===f}else c=!1;for(var l=0,p=i.length;p>=0;p--){var h=i[p];"."===h?o(i,p):".."===h?(o(i,p),l++):l&&(o(i,p),l--)}if(!s)for(;l--;l)i.unshift("..");!s||""===i[0]||i[0]&&n(i[0])||i.unshift("");var d=i.join("/");return c&&"/"!==d.substr(-1)&&(d+="/"),d};t.exports=r},function(t,e){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function r(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return!(!Array.isArray(e)||t.length!==e.length)&&t.every(function(t,n){return r(t,e[n])});var o="undefined"==typeof t?"undefined":n(t),i="undefined"==typeof e?"undefined":n(e);if(o!==i)return!1;if("object"===o){var a=t.valueOf(),u=e.valueOf();if(a!==t||u!==e)return r(a,u);var s=Object.keys(t),c=Object.keys(e);return s.length===c.length&&s.every(function(n){return r(t[n],e[n])})}return!1};e["default"]=o}])});